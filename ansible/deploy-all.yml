---
- name: ğŸ¯ Complete infrastructure deployment
  hosts: localhost
  connection: local
  tasks:
    - name: Display deployment start
      debug:
        msg: "ğŸš€ Starting complete infrastructure deployment"

- name: ğŸŒ Deploy web servers
  import_playbook: setup-webservers.yml

- name: ğŸ“Š Deploy Zabbix monitoring
  import_playbook: zabbix-setup.yml

- name: ğŸ” Deploy Zabbix agents
  import_playbook: zabbix-agents.yml

- name: âœ… Deployment completed
  hosts: localhost
  connection: local
  tasks:
    - name: Display completion message
      debug:
        msg: |
          ğŸ‰ Deployment completed!
          ğŸŒ Website: http://{{ lookup('env', 'LOAD_BALANCER_IP') }}
          ğŸ“Š Zabbix: http://{{ lookup('env', 'ZABBIX_IP') }}
          ğŸ” Kibana: http://{{ lookup('env', 'KIBANA_IP') }}:5601
